<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>IT LOVE回答</title>
    <!-- LOADING STYLESHEETS -->
    <!-- <link href="css/bootstrap.css" rel="stylesheet"> -->
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/newstyle.css" rel="stylesheet">
    <link href="css/all-questions.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/5.0.3/firebase.js"></script>
    <script>
    var config = {
        apiKey: "AIzaSyBZUz6V1Mkmwxpe781P8X6ZC7fPTUyiBIg",
        authDomain: "it-love1.firebaseapp.com",
        databaseURL: "https://it-love1.firebaseio.com",
        projectId: "it-love1",
        storageBucket: "it-love1.appspot.com",
        messagingSenderId: "782043275132"
    };
    firebase.initializeApp(config);
    </script>
    <script>
    var db = firebase.firestore();
    var ref = db.collection("Questions");
    ref.get().then(function(querySnapshot) {
        querySnapshot.forEach(function(doc) {
            console.log("test" + doc.id);
            // doc.data() is never undefined for query doc snapshots

            //console.log(doc.id, " => ", doc.data());
            var dic = doc.data();
            //console.log(author["Author"]);
            var author = dic["Author"];
            var desc = dic["Description"];
            var link = dic["LinkToImage"];
            var public = dic["Public"];
            var time = dic["Time"];

            //add html
            var ahref = document.createElement("a");
            ahref.setAttribute('href', 'https://it-love1.firebaseapp.com/questions/' + doc.id);
            var father = document.createElement("div");
            father.setAttribute('class', 'panel panel-default');
            var authorChild = document.createElement("p");
            authorChild.innerHTML = author;
            var descChild = document.createElement("div");
            descChild.innerHTML = desc;
            descChild.setAttribute('class', 'article-content');
            var timeChild = document.createElement("div");
            timeChild.innerHTML = time;
            timeChild.setAttribute('class', 'art-date');
            father.appendChild(authorChild);
            father.appendChild(descChild);
            father.appendChild(timeChild);
            ahref.appendChild(father);

            var grandfather = document.getElementById("allQ");
            grandfather.appendChild(ahref);


            // <div class="panel panel-default">
            //                         <div class="article-heading-abb">
            //                             <a href="单个回答.html">
            //                                 <i class="fa fa-pencil-square-o"></i> How to change account password?</a>
            //                         </div>
            //                         <div class="article-info">
            //                             <div class="art-date">
            //                                 <a href="#">
            //                                     <i class="fa fa-calendar-o"></i> 20 May, 2016 </a>
            //                             </div>
            //                             <div class="art-category">
            //                                 <a href="#">
            //                                     <i class="fa fa-folder"></i> Account Settings </a>
            //                             </div>
            //                             <div class="art-comments">
            //                                 <a href="#">
            //                                     <i class="fa fa-comments-o"></i> 4 Comments </a>
            //                             </div>
            //                         </div>
            //                         <div class="article-content">
            //                             <p class="block-with-text">
            //                                 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam sit amet finibus dui. Fusce ac nulla nec ex ornare vehicula
            //                                 non nec mi. Cras eget nisi sem. Cum sociis natoque penatibus et magnis dis parturient montes,
            //                                 nascetur ridiculus mus. Donec viverra faucibus magna sed interdum. Phasellus ultrices sagittis
            //                                 molestie. Sed sit amet nisl id risus egestas semper. In porta, arcu eu dignissim vestibulum,
            //                                 sapien justo imperdiet enim, sed facilisis quam justo in neque. Aliquam fermentum arcu eget
            //                                 hendrerit efficitur.
            //                             </p>
            //                         </div>
            //                         <div class="article-read-more">
            //                             <a href="单个回答.html" class="btn btn-default btn-wide">Read more...</a>
            //                         </div>
            //                     </div>

            //add answers
            // var answers = dic["Answers"].get().then(function(querySnapshot1){
            //     querySnapshot1.forEach(function(doc1){
            //         var dic1 = doc1.data();
            //         var author1 = dic1["Author"];
            //         var content = dic1["Content"];
            //         var likes = dic1["Likes"];
            //         var approve = dic1["Approved"];
            //     });
            // });
        });
    });
    </script>
</head>

<body>
    <div class="toppest">
        <div class="login-box">
            <a href="个人信息.html">
                            <i class="fa fa-key"></i> 登陆</a>
        </div>
        <div class="login-box">
            <a href="email-password.html">
                            <i class="fa fa-pencil"></i> 注册</a>
        </div>
        <div class="login-box">
            <a href="系统消息.html">
                            <i class="fa fa-bell"></i> 系统消息</a>
        </div>
    </div>
    <!-- TOP NAVIGATION -->
    <div class="topnav-outline">
        <ul class="topnav">
            <li>
                <a href="index.html">
                            <i class="fa fa-home"></i> 首页</a>
            </li>
            <li>
                <a href="提问.html">
                            <i class="fa fa-book"></i> 提问</a>
            </li>
            <li>
                <a href="回答.html">
                            <i class="fa fa-file-text-o"></i> 回答</a>
            </li>
            <li class="icon">
                        <a href="javascript:void(0);" onclick="myFunction()">&#9776;</a>
            </li>
        </ul>
    </div>
    <!-- END TOP NAVIGATION -->
    <!-- SEARCH FIELD AREA -->
    <div class="searchfield">
        <input type="text" class="search" placeholder="搜索你感兴趣的内容" id="searchcontent">
        <button class="btn buttonsearch" onclick="search()">搜索</button>
    </div>
    <!-- END SEARCH FIELD AREA -->
    <!-- MAIN SECTION -->
    <!-- ARTICLE OVERVIEW SECTION -->
    <h1 class=pageheader>所有问题</h1>
    <div class="sort">
        <button id=# class="btn"> 升序</a>
            <button id=# class="btn"> 降序</a>
    </div>
    <!-- ARTICLES -->
    <div class="questions">
        <div id="allQ">
            <!-- Used to generate questions from database -->
            <hr class="style-three">
            <div class="article">
                <div class="article-content">
                    <p class="block-with-text">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam sit amet finibus dui. Fusce ac nulla nec ex ornare vehicula non nec mi. Cras eget nisi sem. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec viverra faucibus magna sed interdum. Phasellus ultrices sagittis molestie. Sed sit amet nisl id risus egestas semper. In porta, arcu eu dignissim vestibulum, sapien justo imperdiet enim, sed facilisis quam justo in neque. Aliquam fermentum arcu eget hendrerit efficitur.
                    </p>
                </div>
                <div class="article-info">
                    <div class="tag">
                        <i class="fa fa-calendar-o"></i> 20 May, 2016 </a>
                    </div>
                    <div class="tag">
                        <i class="fa fa-comments-o"></i> 4 Comments </a>
                    </div>
                </div>
            </div>
        </div>
        <!-- END ARTICLES OVERVIEW SECTION-->
        <!-- SIDEBAR STUFF -->
        <div class="sidenav">
            <div class="fb-heading-small">
                最火的问题
            </div>
            <hr class="style-three">
            <div class="fat-content-small padding-left-10">
                <ul>
                    <li>
                        <a href="#">
                                        <i class="fa fa-file-text-o"></i> How to change account password?</a>
                    </li>
                    <li>
                        <a href="#">
                                        <i class="fa fa-file-text-o"></i> How to edit order details?</a>
                    </li>
                    <li>
                        <a href="#">
                                        <i class="fa fa-file-text-o"></i> Add new user</a>
                    </li>
                    <li>
                        <a href="#">
                                        <i class="fa fa-file-text-o"></i> Change customer details</a>
                    </li>
                    <li>
                        <a href="#">
                                        <i class="fa fa-file-text-o"></i> Lookup existing customer in order form</a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- END SIDEBAR STUFF -->
    </div>
    <!-- END MAIN SECTION -->
    <!-- LOADING MAIN JAVASCRIPT -->
    <script src="js/jquery-2.2.4.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src='https://cdn.rawgit.com/VPenkov/okayNav/master/app/js/jquery.okayNav.js'></script>
    <script>
    function search() {
        var content = "" + document.getElementById("searchcontent").value;
        console.log(content);
        if (content != "") {
            window.open('https://it-love1.firebaseapp.com/search/' + content, "_self");
        } else {
            window.open('https://it-love1.firebaseapp.com/回答.html', "_self");
        }
    }
    </script>
</body>

</html>